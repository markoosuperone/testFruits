{"version":3,"sources":["pages/Basket.jsx","commponents/FruitItem.jsx","pages/Shop.jsx","utils/const.js","router.jsx","commponents/AppRouter.jsx","commponents/NavBar.jsx","App.js","store/FruitShopStore.js","index.js"],"names":["Basket","observer","FruitShopStore","useContext","Context","useEffect","setTotalBasketPrice","basket","ListGroup","className","style","width","border","map","item","Item","fontSize","name","counterKilo","price","Button","onClick","removeBasketItem","id","totalBasketPrice","FriutItem","fruit","setTotalPrice","Card","Image","height","src","img","Container","Title","Subtitle","discount","discountWeight","increment","decrement","totalPrice","setBasket","disabled","Shop","Row","fruits","BASKET_ROUTE","publicRouter","path","Component","AppRouter","i","component","exact","to","NavBar","history","useHistory","Navbar","bg","variant","color","Nav","push","App","this","_fruits","_basket","_totalBasketPrice","makeAutoObservable","filter","newItem","uuidv4","curentPrice","curentDiscount","curentDiscountWeight","curentCountKilo","priceWithDicsount","Math","floor","priceWithoutDiscount","createContext","ReactDOM","render","Provider","value","document","getElementById"],"mappings":"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","file":"static/js/main.870c0247.chunk.js","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { Button, ListGroup } from \"react-bootstrap\";\nimport { observer } from \"mobx-react-lite\";\nimport { Context } from \"..\";\nimport { AiFillDelete } from \"react-icons/ai\";\n\nconst Basket = observer(() => {\n  const { FruitShopStore } = useContext(Context);\n\n  useEffect(() => {\n    FruitShopStore.setTotalBasketPrice();\n  }, [FruitShopStore.basket, FruitShopStore]);\n\n  return (\n    <ListGroup\n      className=\"d-flex justify-content-center m-4\"\n      style={{ width: 300, border: \"1px solid grey\" }}\n    >\n      <h1 className=\"d-flex justify-content-center\">Моя корзина</h1>\n      {FruitShopStore.basket.map((item) => (\n        <ListGroup.Item\n          key={item.id}\n          className=\"d-flex justify-content-between\"\n          style={{ fontSize: \"25px\" }}\n        >\n          {item.name} - {item.counterKilo}кг - {item.price}$\n          <Button\n            className=\"btn btn-light \"\n            onClick={() => FruitShopStore.removeBasketItem(item.id)}\n          >\n            <AiFillDelete></AiFillDelete>\n          </Button>\n        </ListGroup.Item>\n      ))}\n      <Button className=\"btn btn-success\">\n        {\" \"}\n        Купить за {FruitShopStore.totalBasketPrice}$\n      </Button>\n    </ListGroup>\n  );\n});\n\nexport default Basket;\n","import { observer } from \"mobx-react-lite\";\nimport React, { useContext, useEffect } from \"react\";\nimport { Button, Card, Container, Image } from \"react-bootstrap\";\nimport { AiOutlinePlus, AiOutlineMinus } from \"react-icons/ai\";\nimport { Context } from \"..\";\n\nconst FriutItem = observer(({ fruit }) => {\n  const { FruitShopStore } = useContext(Context);\n\n  useEffect(() => {\n    FruitShopStore.setTotalPrice(fruit.id);\n  }, [fruit.counterKilo, fruit.id, FruitShopStore]);\n  return (\n    <Card style={{ width: 155, border: \"1px solid grey\" }} className=\"ml-2\">\n      <Image width={150} height={150} src={fruit.img} />\n      <Container className=\"d-flex flex-column \">\n        <Card.Title className=\"border-top d-flex justify-content-center\">\n          {fruit.name}\n        </Card.Title>\n        <Card.Subtitle className=\"mb-2 pb-2 text-muted  d-flex justify-content-center border-bottom\">\n          {\" \"}\n          {fruit.price} $/кг\n          {fruit.discount\n            ? ` ${fruit.discount} $/${fruit.discountWeight} кг`\n            : null}{\" \"}\n        </Card.Subtitle>\n      </Container>\n      <Card.Title\n        className=\"d-flex justify-content-center border-bottom\"\n        style={{ fontSize: \"40px\" }}\n      >\n        <Button\n          className=\"btn btn-light\"\n          onClick={() => FruitShopStore.increment(fruit.id)}\n        >\n          {\" \"}\n          <AiOutlinePlus />\n        </Button>\n        {fruit.counterKilo} кг\n        <Button\n          className=\"btn btn-light\"\n          onClick={() => FruitShopStore.decrement(fruit.id)}\n        >\n          {\" \"}\n          <AiOutlineMinus />\n        </Button>\n      </Card.Title>\n      <Card.Title className=\"d-flex flex-column  \">\n        <div className=\"d-flex justify-content-center\">Итого:</div>\n        <div className=\"d-flex justify-content-center\">{fruit.totalPrice}$</div>\n      </Card.Title>\n      <Button\n        className=\"btn btn-success\"\n        onClick={() => FruitShopStore.setBasket(fruit.id)}\n        disabled={fruit.counterKilo === 0 ? true : false}\n      >\n        Добавить в корзину\n      </Button>\n    </Card>\n  );\n});\nexport default FriutItem;\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { useContext } from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport { Context } from \"..\";\nimport FriutItem from \"../commponents/FruitItem\";\n\nconst Shop = observer(() => {\n  const { FruitShopStore } = useContext(Context);\n  \n  return (\n    <Row className=\"d-flex m-2\">\n      {FruitShopStore.fruits.map((fruit) => (\n        <FriutItem key={fruit.id} fruit={fruit} />\n      ))}\n    </Row>\n  );\n});\n\nexport default Shop;\n","export const SHOP_ROUTE = \"/\";\nexport const BASKET_ROUTE = \"/basket\";\n","\nimport Basket from \"./pages/Basket\";\n\nimport Shop from \"./pages/Shop\";\nimport {\n\n  BASKET_ROUTE,\n  \n  SHOP_ROUTE,\n} from \"./utils/const\";\n\n\n\nexport const publicRouter = [\n  {\n    path: SHOP_ROUTE,\n    Component: Shop,\n  },\n  {\n    path: BASKET_ROUTE,\n    Component: Basket,\n  },\n\n];\n","import React from \"react\";\n\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { publicRouter } from \"../router\";\nimport { SHOP_ROUTE } from \"../utils/const\";\n\nfunction AppRouter() {\n  \n  return (\n    <Switch>\n      {publicRouter.map(({ path, Component }, i) => (\n        <Route key={i} path={path} component={Component} exact />\n      ))}\n      <Redirect to={SHOP_ROUTE} />\n    </Switch>\n  );\n}\n\nexport default AppRouter;\n","\nimport React from \"react\";\nimport { Container, Nav, Navbar, Button } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { observer } from \"mobx-react-lite\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { BASKET_ROUTE, SHOP_ROUTE } from \"../utils/const\";\n\nconst NavBar = observer(() => {\n  const history = useHistory();\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\">\n      <Container>\n        <NavLink style={{ color: \"white\" }} to={SHOP_ROUTE}>\n          ОВОЩИБАЗА\n        </NavLink>\n\n        <Nav className=\"ml-auto\" style={{ color: \"white\" }}>\n          <Button\n            variant={\"outline-light\"}\n            className=\"ml-2\"\n            onClick={() => history.push(BASKET_ROUTE)}\n            \n          >\n            Корзина\n          </Button>\n        </Nav>\n      </Container>\n    </Navbar>\n  );\n});\nexport default NavBar;\n","import React from \"react\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport AppRouter from \"./commponents/AppRouter\";\nimport NavBar from \"./commponents/NavBar\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <NavBar />\n      <AppRouter />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { makeAutoObservable } from \"mobx\";\nimport { v4 as uuidv4 } from \"uuid\";\nexport default class FruitShopStore {\n  constructor() {\n    this._fruits = [\n      {\n        id: 1,\n        name: \"Банан\",\n        price: 10,\n        discount: null,\n        discountWeight: null,\n        img:\n          \"https://m.dom-eda.com/uploads/images/catalog/item/7e6fd19d46/0c87fefc9a_100crop.jpg\",\n        counterKilo: 0,\n        totalPrice: 0,\n      },\n      {\n        id: 2,\n        name: \"Яблоко\",\n        price: 8,\n        discount: null,\n        discountWeight: null,\n        img:\n          \"https://m.dom-eda.com/uploads/images/catalog/item/86df51de21/c25c94fe96_100crop.jpg\",\n        counterKilo: 0,\n        totalPrice: 0,\n      },\n      {\n        id: 3,\n        name: \"Папая\",\n        price: 10,\n        discount: 25,\n        discountWeight: 3,\n        img:\n          \"https://m.dom-eda.com/uploads/images/catalog/item/b230c322da/ea073f8b3b_100crop.jpg\",\n        counterKilo: 0,\n        totalPrice: 0,\n      },\n    ];\n\n    this._basket = [];\n\n    this._totalBasketPrice = 0;\n\n    makeAutoObservable(this);\n  }\n\n  setTotalBasketPrice() {\n    let price = 0;\n    this._basket.map((item) => (price = price + item.price));\n    this._totalBasketPrice = price;\n  }\n\n  increment(id) {\n    this._fruits[id - 1].counterKilo = this._fruits[id - 1].counterKilo + 1;\n  }\n\n  decrement(id) {\n    if (this._fruits[id - 1].counterKilo > 0) {\n      this._fruits[id - 1].counterKilo = this._fruits[id - 1].counterKilo - 1;\n    } else {\n      this._fruits[id - 1].counterKilo = 0;\n    }\n  }\n\n  removeBasketItem(id) {\n    this._basket = this._basket.filter((item) => item.id !== id);\n  }\n\n  setBasket(id) {\n    const newItem = {\n      name: this._fruits[id - 1].name,\n      price: this._fruits[id - 1].totalPrice,\n      counterKilo: this._fruits[id - 1].counterKilo,\n      id: uuidv4(),\n    };\n    this._basket.push(newItem);\n    this._fruits[id - 1].counterKilo = 0;\n    this._fruits[id - 1].totalPrice = 0;\n  }\n\n  setTotalPrice(id) {\n    const curentPrice = this._fruits[id - 1].price;\n    const curentDiscount = this._fruits[id - 1].discount;\n    const curentDiscountWeight = this._fruits[id - 1].discountWeight;\n    const curentCountKilo = this._fruits[id - 1].counterKilo;\n    if (curentDiscount && curentCountKilo >= curentDiscountWeight) {\n      const priceWithDicsount =\n        Math.floor(curentCountKilo / curentDiscountWeight) * curentDiscount;\n      const priceWithoutDiscount =\n        (curentCountKilo % curentDiscountWeight) * curentPrice;\n      this._fruits[id - 1].totalPrice =\n        priceWithDicsount + priceWithoutDiscount;\n    } else {\n      this._fruits[id - 1].totalPrice = curentPrice * curentCountKilo;\n    }\n  }\n\n  get basket() {\n    return this._basket;\n  }\n\n  get fruits() {\n    return this._fruits;\n  }\n\n  get totalBasketPrice() {\n    return this._totalBasketPrice;\n  }\n}\n","import React, { createContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport FruitShopStore from \"./store/FruitShopStore\";\n\n\nexport const Context = createContext(null);\nReactDOM.render(\n  <Context.Provider\n    value={{  FruitShopStore: new FruitShopStore() }}\n  >\n    <App />\n  </Context.Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}